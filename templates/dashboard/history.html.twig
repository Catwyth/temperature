{% extends 'base.html.twig' %}

{% block title %}Last 30 Days Temperatures{% endblock %}

{% block body %}
    <h1>Last 30 Days Temperatures</h1>

    <div style="height: 400px;">
        <canvas id="historyChart"></canvas>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const ctx = document.getElementById('historyChart');
            const chartData = {{ chartData|json_encode|raw }};

            new Chart(ctx, {
                type: 'line',
                data: chartData,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                }
            });
        });
    </script>
{% endblock %}